{"version":3,"file":"Login-ad346c88.js","sources":["../../src/views/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <el-card class=\"login-card\">\r\n            <template #header>\r\n                <h2>登录系统</h2>\r\n            </template>\r\n            <el-form\r\n                ref=\"formRef\"\r\n                :model=\"loginForm\"\r\n                :rules=\"rules\"\r\n                label-width=\"80px\"\r\n            >\r\n                <el-form-item label=\"用户名\" prop=\"username\">\r\n                    <el-input v-model=\"loginForm.username\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input\r\n                        v-model=\"loginForm.password\"\r\n                        type=\"password\"\r\n                        show-password\r\n                    />\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"handleLogin\">登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { reactive, ref } from 'vue'\r\nimport type { FormInstance, FormRules } from 'element-plus'\r\nimport { useRouter } from 'vue-router'\r\nimport { useUserStore } from '../stores/user'\r\n\r\nconst router = useRouter()\r\nconst userStore = useUserStore()\r\nconst formRef = ref<FormInstance>()\r\n\r\nconst loginForm = reactive({\r\n    username: '',\r\n    password: ''\r\n})\r\n\r\nconst rules = reactive<FormRules>({\r\n    username: [\r\n        { required: true, message: '请输入用户名', trigger: 'blur' }\r\n    ],\r\n    password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' }\r\n    ]\r\n})\r\n\r\nconst handleLogin = async () => {\r\n    if (!formRef.value) return\r\n    await formRef.value.validate((valid) => {\r\n        if (valid) {\r\n            userStore.setUserInfo({\r\n                username: loginForm.username,\r\n                roles: ['user']\r\n            })\r\n            userStore.setToken('dummy-token')\r\n            router.push(`${import.meta.env.VITE_BASE_URL}/home`)\r\n        }\r\n    })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #f5f7fa;\r\n}\r\n\r\n.login-card {\r\n    width: 400px;\r\n}\r\n</style> "],"names":["router","useRouter","userStore","useUserStore","formRef","ref","loginForm","reactive","rules","handleLogin","valid"],"mappings":"qLAoCA,MAAMA,EAASC,IACTC,EAAYC,IACZC,EAAUC,IAEVC,EAAYC,EAAS,CACvB,SAAU,GACV,SAAU,EAAA,CACb,EAEKC,EAAQD,EAAoB,CAC9B,SAAU,CACN,CAAE,SAAU,GAAM,QAAS,SAAU,QAAS,MAAO,CACzD,EACA,SAAU,CACN,CAAE,SAAU,GAAM,QAAS,QAAS,QAAS,MAAO,CACxD,CAAA,CACH,EAEKE,EAAc,SAAY,CACvBL,EAAQ,OACb,MAAMA,EAAQ,MAAM,SAAUM,GAAU,CAChCA,IACAR,EAAU,YAAY,CAClB,SAAUI,EAAU,SACpB,MAAO,CAAC,MAAM,CAAA,CACjB,EACDJ,EAAU,SAAS,aAAa,EAChCF,EAAO,KAAK,uBAAuC,EACvD,CACH,CAAA"}